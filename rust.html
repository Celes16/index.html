import React from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Code } from "lucide-react";

export default function RustMultithreadPage() {
  return (
    <main className="p-6 space-y-8 max-w-4xl mx-auto">
      <section className="text-center">
        <h1 className="text-4xl font-bold text-orange-600">
          üöÄ Multithreading com Seguran√ßa: Descubra o Poder do Rust
        </h1>
        <p className="mt-4 text-lg text-gray-600">
          Um guia claro, atrativo e t√©cnico sobre multithread com Rust
        </p>
      </section>

      <section>
        <h2 className="text-2xl font-semibold text-orange-500">üß† Por que Multithreading?</h2>
        <p className="mt-2 text-gray-700">
          Imagine uma cozinha com v√°rios cozinheiros trabalhando ao mesmo tempo.
          Isso √© o que a programa√ß√£o multithread faz: divide e conquista.
          Por√©m, isso gera desafios de seguran√ßa e bugs complexos.
          O Rust resolve isso com uma abordagem √∫nica baseada em seguran√ßa por design.
        </p>
      </section>

      <section>
        <h2 className="text-2xl font-semibold text-orange-500">üîç Recursos Poderosos do Rust</h2>
        <ul className="mt-2 space-y-2 text-gray-700 list-disc list-inside">
          <li><strong>Ownership e Borrowing</strong>: evita data races em tempo de compila√ß√£o.</li>
          <li><strong>Traits Send e Sync</strong>: seguran√ßa garantida entre threads.</li>
          <li><strong>Canal (channel)</strong>: comunica√ß√£o segura entre threads.</li>
          <li><strong>Mutex, Arc e ThreadPool</strong>: controle de concorr√™ncia f√°cil e seguro.</li>
          <li><strong>Sem Coletor de Lixo</strong>: alta performance com baixo overhead.</li>
        </ul>
      </section>

      <section>
        <h2 className="text-2xl font-semibold text-orange-500">üõ†Ô∏è Exemplos Pr√°ticos</h2>

        <Card>
          <CardContent className="p-4">
            <Badge variant="outline">Exemplo 1: Spawn de Thread</Badge>
            <pre className="mt-2 bg-gray-900 text-white p-3 rounded text-sm overflow-x-auto">
{`use std::thread;

fn main() {
    let handle = thread::spawn(|| {
        println!("Rodando em outra thread!");
    });

    handle.join().unwrap();
}`}
            </pre>
          </CardContent>
        </Card>

        <Card>
          <CardContent className="p-4">
            <Badge variant="outline">Exemplo 2: Comunica√ß√£o com Channels</Badge>
            <pre className="mt-2 bg-gray-900 text-white p-3 rounded text-sm overflow-x-auto">
{`use std::sync::mpsc;
use std::thread;

fn main() {
    let (tx, rx) = mpsc::channel();

    thread::spawn(move || {
        tx.send("Mensagem da thread").unwrap();
    });

    println!("Recebido: {}", rx.recv().unwrap());
}`}
            </pre>
          </CardContent>
        </Card>

        <Card>
          <CardContent className="p-4">
            <Badge variant="outline">Exemplo 3: Compartilhamento com Arc e Mutex</Badge>
            <pre className="mt-2 bg-gray-900 text-white p-3 rounded text-sm overflow-x-auto">
{`use std::sync::{Arc, Mutex};
use std::thread;

fn main() {
    let counter = Arc::new(Mutex::new(0));
    let mut handles = vec![];

    for _ in 0..10 {
        let counter = Arc::clone(&counter);
        let handle = thread::spawn(move || {
            let mut num = counter.lock().unwrap();
            *num += 1;
        });
        handles.push(handle);
    }

    for handle in handles {
        handle.join().unwrap();
    }

    println!("Resultado: {}", *counter.lock().unwrap());
}`}
            </pre>
          </CardContent>
        </Card>
      </section>

      <section>
        <h2 className="text-2xl font-semibold text-orange-500">üéØ Vantagens Reais</h2>
        <ul className="mt-2 space-y-2 text-gray-700 list-disc list-inside">
          <li>Seguran√ßa garantida em tempo de compila√ß√£o</li>
          <li>Desempenho compar√°vel ao C/C++</li>
          <li>Sem coletor de lixo = controle fino de mem√≥ria</li>
          <li>Ferramentas modernas e comunidade ativa</li>
          <li>Aplic√°vel em jogos, web, IoT, blockchain e muito mais</li>
        </ul>
      </section>

      <section>
        <h2 className="text-2xl font-semibold text-orange-500">üìà Autoavalia√ß√£o e Impacto</h2>
        <p className="mt-2 text-gray-700">
          A apresenta√ß√£o equilibra profundidade t√©cnica e linguagem acess√≠vel, com
          exemplos reais e analogias claras. O uso da p√°gina web permite engajamento
          com o conte√∫do, e demonstra√ß√£o visual e pr√°tica dos conceitos.
        </p>
      </section>
    </main>
  );
}
